<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>H√†nh Tr√¨nh T∆∞ T∆∞·ªüng: Kh√°m Ph√° Di S·∫£n</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Be+Vietnam+Pro:wght@400;500;600;700;800&display=swap" rel="stylesheet">
</head>
<body>
    <!-- ============================================
         M√ÄN H√åNH 1: NH·∫¨P T√äN (START SCREEN)
         ============================================ -->
    <div id="start-screen" class="screen active">
        <div class="start-container">
            <div class="logo-section">
                <div class="logo-icon">üèõÔ∏è</div>
                <h1 class="game-title">H√†nh Tr√¨nh T∆∞ T∆∞·ªüng</h1>
                <h2 class="game-subtitle">Kh√°m Ph√° Di S·∫£n</h2>
            </div>
            
            <div class="start-capsule">
                <div class="capsule-preview">
                    <video class="capsule-video" autoplay loop muted playsinline>
                        <source src="idle_cropped.webm" type="video/webm">
                        <source src="idle.mov" type="video/quicktime">
                    </video>
                </div>
                <p class="capsule-intro">Ch√∫ Capsule Chibi s·∫Ω ƒë·ªìng h√†nh c√πng b·∫°n! </p>
            </div>
            
            <div class="input-section">
                <label for="player-name">Nh·∫≠p t√™n c·ªßa b·∫°n</label>
                <input type="text" id="player-name" placeholder="VD: Nguy·ªÖn VƒÉn A..." maxlength="20" autocomplete="off">
            </div>
            
            <div class="game-rules">
                <h3>üìú Lu·∫≠t ch∆°i</h3>
                <ul>
                    <li>üéØ <strong>V√≤ng 1:</strong> 15 c√¢u h·ªèi c∆° b·∫£n (10ƒë/c√¢u), nh·∫∑t trang ph·ª•c ƒë·∫∑c bi·ªát</li>
                    <li>üåå <strong>V√≤ng 2:</strong> 15 c√¢u n√¢ng cao (5-20ƒë/c√¢u), s·ª≠ d·ª•ng Ng√¥i sao hy v·ªçng</li>
                    <li>üëï M·ªói trang ph·ª•c c√≥ hi·ªáu ·ª©ng ri√™ng bi·ªát! </li>
                    <li>‚ú® ƒê√∫ng 3 c√¢u li√™n ti·∫øp ·ªü V√≤ng 2 = Nh·∫≠n H√†o quang!</li>
                </ul>
            </div>
            
            <button id="start-btn" class="btn-primary btn-large">
                <span class="btn-icon">üöÄ</span>
                <span>B·∫Øt ƒê·∫ßu H√†nh Tr√¨nh</span>
            </button>
            
            <button id="leaderboard-btn" class="btn-secondary">
                üèÜ Xem B·∫£ng X·∫øp H·∫°ng
            </button>
        </div>
        
        <!-- Leaderboard Modal trong Start Screen -->
        <div id="leaderboard-modal" class="modal hidden">
            <div class="modal-content">
                <button class="modal-close" id="close-leaderboard">&times;</button>
                <h2>üèÜ B·∫£ng X·∫øp H·∫°ng</h2>
                <div id="leaderboard-list" class="leaderboard-list"></div>
            </div>
        </div>
    </div>

    <!-- ============================================
         M√ÄN H√åNH 2A: V√íNG 1 - H√ÄNH TRANG TRI TH·ª®C
         ============================================ -->
    <div id="round1-screen" class="screen game-screen round1-theme">
        <!-- Header V√≤ng 1 -->
        <div class="game-header">
            <div class="header-left">
                <div class="round-badge round1-badge">V√≤ng 1</div>
                <div class="round-name">H√†nh Trang Tri Th·ª©c</div>
            </div>
            <div class="header-center">
                <div class="question-progress">
                    <span id="r1-question-current">1</span>
                    <span class="progress-divider">/</span>
                    <span id="r1-question-total">15</span>
                </div>
                <div class="progress-bar">
                    <div class="progress-fill" id="r1-progress-fill"></div>
                </div>
            </div>
            <div class="header-right">
                <div class="score-box">
                    <span class="score-label">ƒêi·ªÉm</span>
                    <span class="score-value" id="r1-current-score">0</span>
                </div>
            </div>
        </div>

        <!-- Main Game Area V√≤ng 1 -->
        <div class="game-main">
            <!-- Khu v·ª±c nh√¢n v·∫≠t -->
            <div class="character-area">
                <!-- Equipment slots b√™n tr√°i -->
                <div class="equipment-left">
                    <div class="equipment-slot" data-slot="hat">
                        <div id="r1-equip-hat" class="equipment-item"></div>
                        <span class="slot-label">M≈©</span>
                    </div>
                    <div class="equipment-slot" data-slot="top">
                        <div id="r1-equip-top" class="equipment-item"></div>
                        <span class="slot-label">√Åo</span>
                    </div>
                </div>

                <!-- Nh√¢n v·∫≠t ·ªü gi·ªØa -->
                <div class="character-wrapper">
                    <div id="r1-capsule-character" class="capsule-character">
                        <video class="capsule-video" autoplay loop muted playsinline>
                            <source src="idle_cropped.webm" type="video/webm">
                            <source src="idle.mov" type="video/quicktime">
                        </video>
                    </div>
                    <!-- Inventory info -->
                    <div class="inventory-info">
                        <span class="inventory-icon">üéí</span>
                        <span id="r1-inventory-count">0/5</span>
                    </div>
                </div>
                
                <!-- Equipment slots b√™n ph·∫£i -->
                <div class="equipment-right">
                    <div class="equipment-slot" data-slot="bottom">
                        <div id="r1-equip-bottom" class="equipment-item"></div>
                        <span class="slot-label">Qu·∫ßn</span>
                    </div>
                    <div class="equipment-slot" data-slot="shoes">
                        <div id="r1-equip-shoes" class="equipment-item"></div>
                        <span class="slot-label">Gi√†y</span>
                    </div>
                    <div class="equipment-slot" data-slot="vehicle">
                        <div id="r1-equip-vehicle" class="equipment-item"></div>
                        <span class="slot-label">Ph∆∞∆°ng ti·ªán</span>
                    </div>
                </div>
            </div>

            <!-- Khu v·ª±c c√¢u h·ªèi (2/5) -->
            <div class="question-area">
                <!-- ƒêi·ªÉm c√¢u h·ªèi -->
                <div class="question-points-wrapper">
                    <div class="question-points" id="r1-question-points">
                        <span class="points-value">+10</span>
                        <span class="points-label">ƒëi·ªÉm</span>
                    </div>
                </div>

                <!-- C√¢u h·ªèi -->
                <div class="question-box round1-question-box">
                    <div class="question-number" id="r1-question-number">C√¢u 1</div>
                    <p class="question-text" id="r1-question-text">C√¢u h·ªèi s·∫Ω hi·ªÉn th·ªã ·ªü ƒë√¢y...</p>
                </div>

                <!-- ƒê√°p √°n -->
                <div class="answers-container" id="r1-answers">
                    <button class="answer-btn" data-answer="A">
                        <span class="answer-label">A</span>
                        <span class="answer-text"></span>
                    </button>
                    <button class="answer-btn" data-answer="B">
                        <span class="answer-label">B</span>
                        <span class="answer-text"></span>
                    </button>
                    <button class="answer-btn" data-answer="C">
                        <span class="answer-label">C</span>
                        <span class="answer-text"></span>
                    </button>
                    <button class="answer-btn" data-answer="D">
                        <span class="answer-label">D</span>
                        <span class="answer-text"></span>
                    </button>
                </div>

                <!-- Feedback -->
                <div id="r1-feedback" class="feedback hidden">
                    <span class="feedback-icon"></span>
                    <span class="feedback-text"></span>
                </div>

                <!-- N√∫t ti·∫øp t·ª•c -->
                <button id="r1-next-btn" class="btn-next hidden">
                    C√¢u ti·∫øp theo
                    <span class="btn-arrow">‚Üí</span>
                </button>
            </div>
        </div>

        <!-- Item Drop Popup (V√≤ng 1) -->
        <div id="item-popup" class="popup hidden">
            <div class="popup-overlay"></div>
            <div class="popup-content item-drop-content">
                <div class="item-glow-effect"></div>
                <div class="popup-header">
                    <span class="popup-icon">üéÅ</span>
                    <h2>B·∫°n nh·∫∑t ƒë∆∞·ª£c! </h2>
                </div>
                <div class="item-display">
                    <div class="item-icon-large" id="item-icon"></div>
                    <h3 class="item-name" id="item-name"></h3>
                    <p class="item-description" id="item-description"></p>
                    <div class="item-rarity" id="item-rarity"></div>
                </div>
                <div class="popup-question">B·∫°n c√≥ mu·ªën m·∫∑c kh√¥ng?</div>
                <div class="popup-buttons">
                    <button id="equip-item-btn" class="btn-primary">
                        <span>‚úÖ</span> M·∫∑c ngay! 
                    </button>
                    <button id="skip-item-btn" class="btn-secondary">
                        <span>‚ùå</span> B·ªè qua
                    </button>
                </div>
            </div>
        </div>

        <!-- Second Chance Popup (√Åo D√†i) - V√≤ng 1 -->
        <div id="r1-second-chance-popup" class="popup hidden">
            <div class="popup-overlay"></div>
            <div class="popup-content second-chance-content">
                <div class="ao-dai-icon">üëò</div>
                <h2>√Åo D√†i H·ªô M·ªánh! </h2>
                <p>May m·∫Øn thay, √°o d√†i cho b·∫°n c∆° h·ªôi ch·ªçn l·∫°i ƒë√°p √°n!</p>
                <button id="r1-retry-btn" class="btn-primary">
                    üîÑ Ch·ªçn l·∫°i ƒë√°p √°n
                </button>
            </div>
        </div>
    </div>

    <!-- ============================================
         M√ÄN H√åNH CHUY·ªÇN C·∫¢NH: V√íNG 1 -> V√íNG 2
         ============================================ -->
    <div id="transition-screen" class="screen">
        <div class="transition-container">
            <div class="transition-content-wrapper">
                <!-- Ph·∫ßn ho√†n th√†nh V√≤ng 1 -->
                <div class="transition-complete">
                    <div class="transition-stars">‚ú®üéâ‚ú®</div>
                    <h2>Ho√†n Th√†nh V√≤ng 1! </h2>
                    <div class="transition-score-display">
                        <span class="score-label">ƒêi·ªÉm V√≤ng 1</span>
                        <span class="score-value" id="transition-r1-score">0</span>
                    </div>
                    <div class="items-collected">
                        <span>Trang b·ªã ƒë√£ nh·∫∑t:</span>
                        <div id="transition-items-list" class="transition-items"></div>
                    </div>
                </div>

                <!-- Divider -->
                <div class="transition-divider">
                    <div class="divider-line"></div>
                    <div class="divider-icon">‚¨áÔ∏è</div>
                    <div class="divider-line"></div>
                </div>

                <!-- Ph·∫ßn gi·ªõi thi·ªáu V√≤ng 2 -->
                <div class="transition-intro">
                    <div class="galaxy-icon">üåå</div>
                    <h2>B∆∞·ªõc V√†o Ti·ªÅm Th·ª©c</h2>
                    <p class="transition-description">
                        V√≤ng 2 v·ªõi nh·ªØng c√¢u h·ªèi n√¢ng cao ƒëang ch·ªù b·∫°n! 
                    </p>
                    
                    <div class="round2-features">
                        <div class="feature-item">
                            <span class="feature-icon">üé≤</span>
                            <span class="feature-text">ƒêi·ªÉm ng·∫´u nhi√™n t·ª´ 5-20 m·ªói c√¢u</span>
                        </div>
                        <div class="feature-item">
                            <span class="feature-icon">‚≠ê</span>
                            <span class="feature-text">S·ª≠ d·ª•ng Ng√¥i sao hy v·ªçng ƒë·ªÉ x2 ƒëi·ªÉm</span>
                        </div>
                        <div class="feature-item">
                            <span class="feature-icon">‚ú®</span>
                            <span class="feature-text">ƒê√∫ng 3 c√¢u li√™n ti·∫øp = H√†o quang</span>
                        </div>
                        <div class="feature-item">
                            <span class="feature-icon">üí´</span>
                            <span class="feature-text">Nh√¢n v·∫≠t s·∫Ω ph√°t s√°ng trong b√≥ng t·ªëi</span>
                        </div>
                    </div>

                    <!-- Preview nh√¢n v·∫≠t v·ªõi glow -->
                    <div class="transition-character-preview">
                        <div class="glow-preview-wrapper">
                            <div class="capsule-character glow">
                                <video class="capsule-video" autoplay loop muted playsinline>
                                    <source src="idle_cropped.webm" type="video/webm">
                                    <source src="idle.mov" type="video/quicktime">
                                </video>
                            </div>
                        </div>
                    </div>
                </div>

                <button id="start-round2-btn" class="btn-primary btn-large btn-glow">
                    <span>üåå</span>
                    <span>B·∫Øt ƒê·∫ßu V√≤ng 2</span>
                    <span>‚Üí</span>
                </button>
            </div>
        </div>
    </div>

    <!-- ============================================
         M√ÄN H√åNH 2B: V√íNG 2 - TI·ªÄM TH·ª®C
         ============================================ -->
    <div id="round2-screen" class="screen game-screen round2-theme">
        <!-- Hi·ªáu ·ª©ng stars background -->
        <div class="stars-background">
            <div class="star"></div>
            <div class="star"></div>
            <div class="star"></div>
            <div class="star"></div>
            <div class="star"></div>
            <div class="star"></div>
            <div class="star"></div>
            <div class="star"></div>
        </div>

        <!-- Header V√≤ng 2 -->
        <div class="game-header round2-header">
            <div class="header-left">
                <div class="round-badge round2-badge">V√≤ng 2</div>
                <div class="round-name round2-name">Ti·ªÅm Th·ª©c</div>
            </div>
            <div class="header-center">
                <div class="question-progress">
                    <span id="r2-question-current">1</span>
                    <span class="progress-divider">/</span>
                    <span id="r2-question-total">15</span>
                </div>
                <div class="progress-bar round2-progress">
                    <div class="progress-fill" id="r2-progress-fill"></div>
                </div>
            </div>
            <div class="header-right">
                <div class="score-box round2-score-box">
                    <span class="score-label">ƒêi·ªÉm</span>
                    <span class="score-value" id="r2-current-score">0</span>
                </div>
                <div class="star-box" id="r2-star-box">
                    <span class="star-icon">‚≠ê</span>
                    <span class="star-value" id="r2-star-count">5</span>
                </div>
                <div class="streak-box" id="r2-streak-box">
                    <span class="streak-icon">üî•</span>
                    <span class="streak-value" id="r2-streak-count">0</span>
                </div>
            </div>
        </div>

        <!-- Main Game Area V√≤ng 2 -->
        <div class="game-main">
            <!-- Khu v·ª±c nh√¢n v·∫≠t -->
            <div class="character-area round2-character-area">
                <!-- Equipment slots b√™n tr√°i -->
                <div class="equipment-left">
                    <div class="equipment-slot" data-slot="hat">
                        <div id="r2-equip-hat" class="equipment-item"></div>
                        <span class="slot-label">M≈©</span>
                    </div>
                    <div class="equipment-slot" data-slot="top">
                        <div id="r2-equip-top" class="equipment-item"></div>
                        <span class="slot-label">√Åo</span>
                    </div>
                </div>

                <!-- Nh√¢n v·∫≠t ·ªü gi·ªØa -->
                <div class="character-wrapper">
                    <!-- H√†o quang container -->
                    <div id="r2-halo-container" class="halo-container"></div>
                    
                    <div id="r2-capsule-character" class="capsule-character glow">
                        <video class="capsule-video" autoplay loop muted playsinline>
                            <source src="idle_cropped.webm" type="video/webm">
                            <source src="idle.mov" type="video/quicktime">
                        </video>
                    </div>
                    
                    <!-- Streak indicator -->
                    <div class="streak-indicator" id="streak-indicator">
                        <div class="streak-flames">
                            <span>üî•</span>
                            <span id="streak-display">0</span>
                            <span>c√¢u li√™n ti·∫øp</span>
                        </div>
                        <div class="streak-progress">
                            <div class="streak-progress-fill" id="streak-progress-fill"></div>
                        </div>
                        <div class="streak-hint">ƒê√∫ng th√™m <span id="streak-remaining">3</span> c√¢u ƒë·ªÉ nh·∫≠n H√†o quang! </div>
                    </div>
                </div>
                
                <!-- Equipment slots b√™n ph·∫£i -->
                <div class="equipment-right">
                    <div class="equipment-slot" data-slot="bottom">
                        <div id="r2-equip-bottom" class="equipment-item"></div>
                        <span class="slot-label">Qu·∫ßn</span>
                    </div>
                    <div class="equipment-slot" data-slot="shoes">
                        <div id="r2-equip-shoes" class="equipment-item"></div>
                        <span class="slot-label">Gi√†y</span>
                    </div>
                    <div class="equipment-slot" data-slot="vehicle">
                        <div id="r2-equip-vehicle" class="equipment-item"></div>
                        <span class="slot-label">Ph∆∞∆°ng ti·ªán</span>
                    </div>
                </div>
            </div>

            <!-- Khu v·ª±c c√¢u h·ªèi (2/5) -->
            <div class="question-area round2-question-area">
                <!-- ƒêi·ªÉm c√¢u h·ªèi (random) -->
                <div class="question-points-wrapper">
                    <div class="question-points round2-points" id="r2-question-points">
                        <span class="points-icon">üé≤</span>
                        <span class="points-value" id="r2-points-value">+15</span>
                        <span class="points-label">ƒëi·ªÉm</span>
                    </div>
                </div>

                <!-- C√¢u h·ªèi -->
                <div class="question-box round2-question-box">
                    <div class="question-number" id="r2-question-number">C√¢u 1</div>
                    <p class="question-text" id="r2-question-text">C√¢u h·ªèi s·∫Ω hi·ªÉn th·ªã ·ªü ƒë√¢y...</p>
                </div>

                <!-- ƒê√°p √°n -->
                <div class="answers-container" id="r2-answers">
                    <button class="answer-btn round2-answer" data-answer="A">
                        <span class="answer-label">A</span>
                        <span class="answer-text"></span>
                    </button>
                    <button class="answer-btn round2-answer" data-answer="B">
                        <span class="answer-label">B</span>
                        <span class="answer-text"></span>
                    </button>
                    <button class="answer-btn round2-answer" data-answer="C">
                        <span class="answer-label">C</span>
                        <span class="answer-text"></span>
                    </button>
                    <button class="answer-btn round2-answer" data-answer="D">
                        <span class="answer-label">D</span>
                        <span class="answer-text"></span>
                    </button>
                </div>

                <!-- Feedback -->
                <div id="r2-feedback" class="feedback hidden">
                    <span class="feedback-icon"></span>
                    <span class="feedback-text"></span>
                </div>

                <!-- N√∫t ti·∫øp t·ª•c -->
                <button id="r2-next-btn" class="btn-next round2-next hidden">
                    C√¢u ti·∫øp theo
                    <span class="btn-arrow">‚Üí</span>
                </button>
            </div>
        </div>

        <!-- Second Chance Popup (√Åo D√†i) - V√≤ng 2 -->
        <div id="r2-second-chance-popup" class="popup hidden">
            <div class="popup-overlay"></div>
            <div class="popup-content second-chance-content round2-popup">
                <div class="ao-dai-icon">üëò</div>
                <h2>√Åo D√†i H·ªô M·ªánh!</h2>
                <p>May m·∫Øn thay, √°o d√†i cho b·∫°n c∆° h·ªôi ch·ªçn l·∫°i ƒë√°p √°n!</p>
                <button id="r2-retry-btn" class="btn-primary">
                    üîÑ Ch·ªçn l·∫°i ƒë√°p √°n
                </button>
            </div>
        </div>

        <!-- Halo Unlock Notification -->
        <div id="halo-notification" class="notification hidden">
            <div class="notification-content halo-unlock">
                <span class="notification-icon">‚ú®</span>
                <span class="notification-text">H√†o quang c·∫•p <span id="halo-level">1</span> ƒë√£ ƒë∆∞·ª£c k√≠ch ho·∫°t!</span>
            </div>
        </div>

        <!-- Star Prompt Notification -->
        <div id="r2-star-prompt" class="star-prompt-notification hidden">
            <div class="star-prompt-overlay"></div>
            <div class="star-prompt-modal">
                <div class="star-prompt-content">
                    <span class="star-prompt-icon">‚≠ê</span>
                    <span class="star-prompt-text">Ng√¥i Sao Hy V·ªçng xu·∫•t hi·ªán!</span>
                </div>
                <div class="star-prompt-buttons">
                    <button id="use-star-btn" class="btn-star">D√πng (x2 ƒëi·ªÉm)</button>
                    <button id="skip-star-btn" class="btn-skip">B·ªè qua</button>
                </div>
            </div>
        </div>
    </div>

    <!-- ============================================
         M√ÄN H√åNH 3: K·∫æT TH√öC (END SCREEN)
         ============================================ -->
    <div id="end-screen" class="screen">
        <div class="end-container">
            <!-- Header -->
            <div class="end-header">
                <div class="fireworks">üéÜüéáüéÜ</div>
                <h1>üèÜ Ho√†n Th√†nh H√†nh Tr√¨nh! </h1>
                <p class="player-name-display">Ch√∫c m·ª´ng, <strong id="end-player-name">Ng∆∞·ªùi ch∆°i</strong>!</p>
            </div>

            <!-- Nh√¢n v·∫≠t cu·ªëi game v·ªõi ƒë·∫ßy ƒë·ªß trang b·ªã -->
            <div class="end-character-section">
                <!-- Equipment slots b√™n tr√°i -->
                <div class="equipment-left end-equipment">
                    <div class="equipment-slot" data-slot="hat">
                        <div id="end-equip-hat" class="equipment-item"></div>
                        <span class="slot-label">M≈©</span>
                    </div>
                    <div class="equipment-slot" data-slot="top">
                        <div id="end-equip-top" class="equipment-item"></div>
                        <span class="slot-label">√Åo</span>
                    </div>
                </div>

                <!-- Nh√¢n v·∫≠t ·ªü gi·ªØa -->
                <div class="end-character-wrapper">
                    <div id="end-halo-container" class="halo-container"></div>
                    <div id="end-capsule" class="capsule-character">
                        <video class="capsule-video" autoplay loop muted playsinline>
                            <source src="idle_cropped.webm" type="video/webm">
                            <source src="idle.mov" type="video/quicktime">
                        </video>
                    </div>
                </div>

                <!-- Equipment slots b√™n ph·∫£i -->
                <div class="equipment-right end-equipment">
                    <div class="equipment-slot" data-slot="bottom">
                        <div id="end-equip-bottom" class="equipment-item"></div>
                        <span class="slot-label">Qu·∫ßn</span>
                    </div>
                    <div class="equipment-slot" data-slot="shoes">
                        <div id="end-equip-shoes" class="equipment-item"></div>
                        <span class="slot-label">Gi√†y</span>
                    </div>
                    <div class="equipment-slot" data-slot="vehicle">
                        <div id="end-equip-vehicle" class="equipment-item"></div>
                        <span class="slot-label">Ph∆∞∆°ng ti·ªán</span>
                    </div>
                </div>
            </div>

            <!-- B·∫£ng ƒëi·ªÉm chi ti·∫øt -->
            <div class="score-breakdown">
                <h3>üìä Chi Ti·∫øt ƒêi·ªÉm S·ªë</h3>
                
                <div class="score-section">
                    <div class="score-row">
                        <span class="score-label-text">
                            <span class="score-icon">üìù</span>
                            ƒêi·ªÉm V√≤ng 1
                        </span>
                        <span class="score-value" id="final-round1">0</span>
                    </div>
                    <div class="score-row">
                        <span class="score-label-text">
                            <span class="score-icon">üåå</span>
                            ƒêi·ªÉm V√≤ng 2
                        </span>
                        <span class="score-value" id="final-round2">0</span>
                    </div>
                </div>

                <div class="score-section bonus-section" id="bonus-section">
                    <div class="section-title">üéÅ Bonus Trang Ph·ª•c</div>
                    <div id="bonus-details" class="bonus-details"></div>
                </div>

                <div class="score-total">
                    <span class="total-label">T·ªîNG ƒêI·ªÇM</span>
                    <span class="total-value" id="final-total">0</span>
                </div>
            </div>

            <!-- X·∫øp h·∫°ng -->
            <div class="rank-section">
                <div class="rank-badge" id="rank-badge">üèÜ</div>
                <h2 class="rank-title" id="rank-title">Nh√† T∆∞ T∆∞·ªüng ƒê·∫°i T√†i</h2>
                <p class="rank-description" id="rank-description"></p>
            </div>

            <!-- Buttons -->
            <div class="end-buttons" id="end-buttons">
                <button id="play-again-btn" class="btn-primary btn-large">
                    <span>üîÑ</span> Ch∆°i L·∫°i
                </button>
                <button id="share-btn" class="btn-secondary">
                    <span>üì§</span> Chia S·∫ª K·∫øt Qu·∫£
                </button>
                <button id="view-leaderboard-btn" class="btn-secondary">
                    <span>üèÜ</span> B·∫£ng X·∫øp H·∫°ng
                </button>
            </div>
        </div>
    </div>

    <!-- Leaderboard Modal (separate from end screen) -->
    <div id="end-leaderboard-modal" class="modal hidden">
        <div class="modal-content leaderboard-modal-content">
            <button class="modal-close" id="close-end-leaderboard">&times;</button>
            <h2>üèÜ Top 10 Ng∆∞·ªùi Ch∆°i</h2>
            <div id="end-leaderboard-list" class="leaderboard-list"></div>
        </div>
    </div>

    <!-- Gamble Modal (√Åo T·ª© Th√¢n) -->
    <div id="gamble-modal" class="modal hidden">
        <div class="modal-content gamble-modal-content">
            <div class="gamble-header">
                <span class="gamble-icon">üëó</span>
                <h3>√Åo T·ª© Th√¢n - V·∫≠n May Quy·∫øt ƒê·ªãnh!</h3>
            </div>
            <p class="gamble-description">50% c∆° h·ªôi nh√¢n ƒë√¥i ƒëi·ªÉm | 50% m·∫•t n·ª≠a ƒëi·ªÉm</p>
            <p class="gamble-warning">‚ö†Ô∏è B·∫°n ƒë√£ m·∫∑c √Åo T·ª© Th√¢n - Ph·∫£i quay x√∫c x·∫Øc!</p>
            <div class="dice-container">
                <div id="dice" class="dice">üé≤</div>
            </div>
            <div id="gamble-result" class="gamble-result hidden"></div>
            <button id="roll-dice-btn" class="btn-primary btn-gamble">
                üé≤ Quay X√∫c X·∫Øc!
            </button>
        </div>
    </div>

    <!-- ============================================
         GLOBAL LOADING SCREEN
         ============================================ -->
    <div id="loading-screen" class="loading-screen hidden">
        <div class="loading-content">
            <div class="loading-spinner"></div>
            <p>ƒêang t·∫£i...</p>
        </div>
    </div>

    <script src="questions.js"></script>
    <script src="items.js"></script>
    <script src="game.js"></script>
</body>
</html>